<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head><title>Elle Shell Script Generator V1.24</title></head>
<body bgcolor="#ffffcc">
<script language="JavaScript">
<!--function

var items = new Object();
var newwindow = new Object();
var newwindow2 = new Object();

var basil_on=0;
var gg_on=0;
var tbh_on=0;
var ranor_on=0;
var pblast_on=0;
var diffusion_on=0;
var oof_on=0;
var recovery_on=0;
var rotrx_on=0;
var viscosity_on=0;
var gbmdd_on=0;
var repos_on=0;
var plotax_on=0;
var merge_on=0;
var angle_check_on=0;
var stats_on=0;
var split_on=0;
var disloc_rx_on=0;
var angle_rx_on=0;
var expand_on=0;
var gbm_diff_on=0;
var latt_diff_on=0;
var exchange_on=0;
var exchdiff_only=0;
var manuel_on=0;
var user_on=0;
var gv_display_on=0;

var winop=0;
var winop2=0;

function MakeBatch(root_name,start_file,last_time,time_step,basil_in,save_int,save_all,stages,stagesgbm,basil_on,gg_on,tbh_on,ranor_on,pblast_on,oof_on,recovery_on,rotrx_on,viscosity_on,gbmdd_on,repos_on,plotax_on,merge_on,angle_check_on,stats_on,split_on,disloc_rx_on,angle_rx_on,stagespb,expand_on,gbm_diff_on,latt_diff_on,stagesgbdiff,gbdiffkappa,stageslattdiff,expandarea,expandspeed,manuel_on,manuelspeed,user_on,username,stagesuser,userdata1,userdata2,userdata3,userdata4,userdata5,userdata6,gv_display_on,exchange_on,exchkappa,exchtemp,exchdiff_only,stagesexch) 
{
var plotax_text;
var gv_display_text;

if(plotax_on==1)
    plotax_text= 'set PLOTAX=1 <br>'
else
    plotax_text= 'set PLOTAX=0 <br>'

if(gv_display_on==1)
    gv_display_text= 'set GV_SAVE=1 <br>'
else
    gv_display_text= 'set GV_SAVE=0 <br>'

if(exchdiff_only==1)
    exchdiff_only_text= 'set EXCHDIFFONLY=1 <br>'
else
    exchdiff_only_text= 'set EXCHDIFFONLY=0 <br>'

if(basil_on==1)
    basil_dir_text= 'if NOT EXIST FD.sols mkdir FD.sols<br> if NOT EXIST FD.out  mkdir FD.out<br> if EXIST lastlg  %DELETE% lastlg<br>'
else
    basil_dir_text= ' '
    
var content3 = '<HTML><HEAD><TITLE>batch output</title>' +
'</head><body>' + '<font size="-1">' +
':: script generated by shelle v1.24<br>' +
'@echo OFF<br>'+
'setlocal enableextensions enabledelayedexpansion<br>'+
'if NOT ERRORLEVEL 0 echo extensions not enabled, script may fail<br>'+
':: for debugging<br>' +
':: set DEBUG=echo<br>' +
':: for running<br>' +
' set DEBUG=<br>' +
'if NOT DEFINED ELLEPATH (<br>'+
'echo Please set your environment variable ELLEPATH<br>' +
'echo so that ELLEPATH\\binwx is the location of the <br>' +
'echo Elle executables<br>' +
'GOTO END<br>' +
')<br>' +
' set DELETE=del /Q<br>' +
' set COPY=copy /y<br>' +
' set START=start /B /w<br>' +
' set MOVE=rename<br>' +
' set BIN=%ELLEPATH%\\binwx<br>' +
' set STARTFILE='+start_file+' <br>' +
' set T=0 <br>' +
' set LASTTIME='+last_time+' <br>' +
' set TIMESTEP='+time_step+' <br>' +
' set GGSTAGES='+pad(stages,3)+' <br>' +
' set GSTAGES='+pad(stagesgbm,3)+' <br>' +
' set PBSTAGES='+pad(stagespb,3)+' <br>' +
' set USERNAME='+username+' <br>' +
' set USERSTAGES='+pad(stagesuser,3)+' <br>' +
' set U1='+userdata1+' <br>' +
' set U2='+userdata2+' <br>' +
' set U3='+userdata3+' <br>' +
' set U4='+userdata4+' <br>' +
' set U5='+userdata5+' <br>' +
' set U6='+userdata6+' <br>' +
' set GBDIFFSTAGES='+pad(stagesgbdiff,3)+' <br>' +
' set GBDIFFKAPPA='+gbdiffkappa+' <br>' +
' set LATTDIFFSTAGES='+pad(stageslattdiff,3)+' <br>' +
' set EXCHSTAGES='+pad(stagesexch,3)+' <br>' +
' set EXCHKAPPA='+exchkappa+' <br>' +
' set EXCHTEMP='+exchtemp+' <br>' +
exchdiff_only_text +
' set EXPANDAREA='+expandarea+' <br>' +
' set EXPANDSPEED='+expandspeed+' <br>' +
' set MANUELSPEED='+manuelspeed+' <br>' +
' set SAVEINTVL='+save_int+' <br>' +
' set SAVEALL='+save_all+' <br>' +
' set BASINFILE='+basil_in+' <br>' +
' set ROOTNAME='+root_name+' <br>' +
gv_display_text +
plotax_text

var content4 ='set R=%ROOTNAME%<br>'+
':: set the input for the first process<br>'+
'if %T% EQU 0 (<br>'+
'&nbsp;&nbsp;&nbsp;if NOT EXIST %STARTFILE% GOTO END<br>'+
'&nbsp;&nbsp;&nbsp;echo %COPY% %STARTFILE% to tmp.elle<br>'+
'&nbsp;&nbsp;&nbsp;%DEBUG% %COPY% %STARTFILE% tmp.elle<br>'+
'&nbsp;&nbsp;&nbsp;echo copy %STARTFILE% to %R%.000.00.elle<br>'+
'&nbsp;&nbsp;&nbsp;%DEBUG% %COPY% %STARTFILE% %R%.000.00.elle<br>'+
'&nbsp;&nbsp;&nbsp;:: randomise quartz orientations<br>'+
'&nbsp;&nbsp;&nbsp;for %%i in ( %LIST% ) do (<br>'+
'&nbsp;&nbsp;&nbsp;if %%i EQU 7 (<br>'+
'&nbsp;&nbsp;&nbsp;echo %BIN%\\tidy -i tmp.elle -u 0 1 -s 1 -f 1 -n<br>'+
'&nbsp;&nbsp;&nbsp;%DEBUG% %START% %BIN%\\tidy -i tmp.elle -u 0 1 -s 1 -f 1 -n<br>'+
'&nbsp;&nbsp;&nbsp;if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
'&nbsp;&nbsp;&nbsp;echo %COPY% tidy001.elle tmp.elle<br>'+
'&nbsp;&nbsp;&nbsp;%DEBUG% %COPY% tidy001.elle tmp.elle<br>'+
'&nbsp;&nbsp;&nbsp;if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
'&nbsp;&nbsp;&nbsp;)<br>'+
'&nbsp;&nbsp;&nbsp;)<br>'+
basil_dir_text +
'&nbsp;&nbsp;&nbsp;if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
')<br>'+
'<br>'+
':: loop through until time is up<br>'+
'<br>'+
':LOOP<br>'+
':: update time variable<br>'+
'set /a T=%T%+%TIMESTEP%<br>'+
'set /a CNT=%T% %% %SAVEINTVL%<br>'+
'set /a LEFT=%LASTTIME%-%T%<br>'+
'set TSTR=%T%<br>'+
'if %T% LSS 100 set TSTR=0%T%<br>'+
'if %T% LSS 10 set TSTR=00%T%<br>'+
':: save file for ghostview display<br>'+
'if %GV_SAVE% == 1 (<br>'+
'echo %BIN%\\showelleps -i tmp.elle <br>'+
'%DEBUG% %START% %BIN%\\showelleps -i tmp.elle <br>'+
')<br>'+
'<br>'+
'echo TIME=%TSTR%<br>'+
'<br>'+
':: run the loop<br>'+
'for %%i in ( %LIST% ) do (<br>'+
'<br>'+
':: create the polygon input from the elle file<br>'+
'if %%i EQU 1 (<br>'+
'echo %BIN%\\elle2poly tmp.elle tmp.poly pb<br>'+
'%DEBUG% %START% %BIN%\\elle2poly tmp.elle tmp.poly pb<br>'+
'if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
')<br>'+
':: run basil<br>'+
'if %%i EQU 2 (<br>'+
'echo %BIN%\\basil %BASINFILE%<br>'+
'%DEBUG% %START% %BIN%\\basil %BASINFILE%<br>'+
'if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
'if %CNT% EQU 0 (<br>'+
'&nbsp;&nbsp;&nbsp;echo %COPY% FD.sols\\basil FD.sols\\%R%.%TSTR%<br>'+
'&nbsp;&nbsp;&nbsp;%DEBUG% %COPY% FD.sols\\basil FD.sols\\%R%.%TSTR%<br>'+
'&nbsp;&nbsp;&nbsp;echo %COPY% FD.out\\basil.out FD.out\\%R%.out.%TSTR%<br>'+
'&nbsp;&nbsp;&nbsp;%DEBUG% %COPY% FD.out\\basil.out FD.out\\%R%.out.%TSTR%<br>'+
'&nbsp;&nbsp;&nbsp;if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
'&nbsp;&nbsp;&nbsp;)<br>'+
')<br>'+
':: convert to elle format<br>'+
'if %%i EQU 3 (<br>'+
'echo %BIN%\\basil2elle -i FD.sols\\basil -r 2 -o tmp2.elle<br>'+
'%DEBUG% %START% %BIN%\\basil2elle -i FD.sols\\basil -r 2 -o tmp2.elle<br>'+
'if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
'echo %COPY% tmp2.elle tmp.elle<br>'+
'%DEBUG% %COPY% tmp2.elle tmp.elle<br>'+
'if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
'if %CNT% EQU 0 (<br>'+
'&nbsp;&nbsp;&nbsp;echo %COPY% tmp2.elle %R%.%TSTR%.03.elle<br>'+
'&nbsp;&nbsp;&nbsp;%DEBUG% %COPY% tmp2.elle %R%.%TSTR%.03.elle<br>'+
'&nbsp;&nbsp;&nbsp;if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
'&nbsp;&nbsp;&nbsp;)<br>'+
')<br>'+
':: let tbh happen<br>'+
'if %%i EQU 4 (<br>'+
'echo %BIN%\\elle_tbh -i tmp.elle -s 1 -f 1 -n<br>'+
'%DEBUG% %START% %BIN%\\elle_tbh -i tmp.elle -s 1 -f 1 -n<br>'+
'if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
'echo %COPY% tbh.calc001.elle tmp.elle<br>'+
'%DEBUG% %COPY% tbh.calc001.elle tmp.elle<br>'+
'if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
'if %CNT% EQU 0 (<br>'+
'&nbsp;&nbsp;&nbsp;echo %COPY% tbh.calc001.elle %R%.%TSTR%.04.elle<br>'+
'&nbsp;&nbsp;&nbsp;%DEBUG% %COPY% tbh.calc001.elle %R%.%TSTR%.04.elle<br>'+
'&nbsp;&nbsp;&nbsp;if %PLOTAX% EQU 1 (<br>'+
'&nbsp;&nbsp;&nbsp;echo %BIN%\\plotaxes -i %R%.%TSTR%.04.elle -s 1 -f 1 -n<br>'+
'&nbsp;&nbsp;&nbsp;%DEBUG% %START% %BIN%\\plotaxes -i %R%.%TSTR%.04.elle -s 1 -f 1 -n<br>'+
'&nbsp;&nbsp;&nbsp;)<br>'+
') ELSE (<br>'+
'&nbsp;&nbsp;&nbsp;if %SAVEALL% EQU 4 %DEBUG% %COPY% tbh.calc001.elle %R%.%TSTR%.04.elle<br>'+
')<br>'+
')<br>'+
':: let grains split into subgrains<br>'+
'if %%i EQU 5 (<br>'+
'echo %BIN%\\elle_split -i tmp.elle -s 1 -f 1 -n<br>'+
'%DEBUG% %START% %BIN%\\elle_split -i tmp.elle -s 1 -f 1 -n<br>'+
'if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
'echo %COPY% split001.elle tmp.elle<br>'+
'%DEBUG% %COPY% split001.elle tmp.elle<br>'+
'if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
'if %CNT% EQU 0 (<br>'+
'&nbsp;&nbsp;&nbsp;echo %COPY% split001.elle %R%.%TSTR%.05.elle<br>'+
'&nbsp;&nbsp;&nbsp;%DEBUG% %COPY% split001.elle %R%.%TSTR%.05.elle<br>'+
') ELSE (<br>'+
'&nbsp;&nbsp;&nbsp;if %SAVEALL% EQU 5 %DEBUG% %COPY% split001.elle %R%.%TSTR%.05.elle<br>'+
'&nbsp;&nbsp;&nbsp;)<br>'+
')<br>'+
':: let grains boundaries migrate by everything<br>'+
'if %%i EQU 6 (<br>'+
'set S=%GSTAGES%<br>'+
'echo %BIN%\\elle_gbm -i tmp.elle -s !S! -f !S! -n<br>'+
'%DEBUG% %START% %BIN%\\elle_gbm -i tmp.elle -s !S! -f !S! -n<br>'+
'if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
'echo  %COPY% gbm!S!.elle tmp.elle<br>'+
'%DEBUG% %COPY% gbm!S!.elle tmp.elle<br>'+
'if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
'if %CNT% EQU 0 (<br>'+
'&nbsp;&nbsp;&nbsp;echo %COPY% gbm!S!.elle %R%.%TSTR%.06.elle<br>'+
'&nbsp;&nbsp;&nbsp;%DEBUG% %COPY% gbm!S!.elle %R%.%TSTR%.06.elle<br>'+
') ELSE (<br>'+
'&nbsp;&nbsp;&nbsp;if %SAVEALL% EQU 6 %DEBUG% %COPY% gbm!S!.elle %R%.%TSTR%.06.elle<br>'+
'&nbsp;&nbsp;&nbsp;)<br>'+
')<br>'+
':: grow pblast<br>'+
'if %%i EQU 8 (<br>'+
'set S=%PBSTAGES%<br>'+
'echo %BIN%\\elle_pblast -i tmp.elle -s !S! -f !S! -n<br>'+
'%DEBUG% %START% %BIN%\\elle_pblast -i tmp.elle -s !S! -f !S! -n<br>'+
'if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
'echo %COPY% pblast!S!.elle tmp.elle<br>'+
'%DEBUG% %COPY% pblast!S!.elle tmp.elle<br>'+
'if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
'if %CNT% EQU 0 (<br>'+
'&nbsp;&nbsp;&nbsp;echo %COPY% pblast!S!.elle %R%.%TSTR%.08.elle<br>'+
'&nbsp;&nbsp;&nbsp;%DEBUG% %COPY% pblast!S!.elle %R%.%TSTR%.08.elle<br>'+
') ELSE (<br>'+
'&nbsp;&nbsp;&nbsp;if %SAVEALL% EQU 8 %DEBUG% %COPY% pblast!S!.elle %R%.%TSTR%.08.elle<br>'+
'&nbsp;&nbsp;&nbsp;)<br>'+
')<br>'+
':: do oof calculation<br>'+
'if %%i EQU 9 (<br>'+
'echo %BIN%\\elle2poly tmp.elle tmp.poly pb<br>'+
'%DEBUG% %START% %BIN%\\elle2poly tmp.elle tmp.poly pb<br>'+
'echo %BIN%\\triangle -pzAen tmp.elle.poly<br>'+
'%DEBUG% %START% %BIN%\\triangle -pzAen tmp.elle.poly<br>'+
'echo %BIN%\\triangle -pzAen tmp.elle.1.poly<br>'+
'%DEBUG% %START% %BIN%\\triangle -pzAen tmp.elle.1.poly<br>'+
'echo %BIN%\\triangle -pzrAPna0.000625 tmp.elle.2.poly<br>'+ 
'%DEBUG% %START% %BIN%\\triangle -pzrAPna0.000625 tmp.elle.2.poly<br>'+ 
'%DEBUG% %DELETE% tmp.elle.*.edge tmp.elle.*.neigh tmp.elle.1* tmp.elle.2*<br>'+
'echo %BIN%\\poly2goof -i tmp.elle -n<br>'+
'%DEBUG %START% %BIN%\\poly2goof -i tmp.elle -n<br>'+
'if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
'echo %LOCAL%\\oof\\oof -grid elle.goof -text -quit<br>'+
'%DEBUG% %LOCAL%\\oof\\oof -grid elle.goof -text -quit<br>'+
'if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
'echo %BIN%\\goof2elle -i tmp.elle -s 1 -f 1 -n<br>'+
'%DEBUG% %BIN%\\goof2elle -i tmp.elle -s 1 -f 1 -n<br>'+
'if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
'echo %COPY% goof2elle001.elle tmp.elle<br>'+
'%DEBUG% %COPY% goof2elle001.elle tmp.elle<br>'+
'if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
'if %CNT% EQU 0 (<br>'+
'&nbsp;&nbsp;&nbsp;echo %COPY% goof2elle001.elle %R%.%TSTR%.09.elle<br>'+
'&nbsp;&nbsp;&nbsp;%DEBUG% %COPY% goof2elle001.elle %R%.%TSTR%.09.elle<br>'+
') ELSE (<br>'+
'&nbsp;&nbsp;&nbsp;if %SAVEALL% EQU 9 %DEBUG% %COPY% goof2elle001.elle %R%.%TSTR%.09.elle<br>'+
'&nbsp;&nbsp;&nbsp;)<br>'+
')<br>'+
':: let let nucleation/recrystallisation happen if dislocden is high enough<br>'+
'if %%i EQU 10 (<br>'+
'echo %BIN%\\elle_disloc_rx -i tmp.elle -s 1 -f 1 -n<br>'+
'%DEBUG% %START% %BIN%\\elle_disloc_rx -i tmp.elle -s 1 -f 1 -n<br>'+
'if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
'echo %COPY% disloc_rx001.elle tmp.elle<br>'+
'%DEBUG% %COPY% disloc_rx001.elle tmp.elle<br>'+
'if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
'if %CNT% EQU 0 (<br>'+
'&nbsp;&nbsp;&nbsp;echo %COPY% disloc_rx001.elle %R%.%TSTR%.10.elle<br>'+
'&nbsp;&nbsp;&nbsp;%DEBUG% %COPY% disloc_rx001.elle %R%.%TSTR%.10.elle<br>'+
') ELSE (<br>'+
'&nbsp;&nbsp;&nbsp;if %SAVEALL% EQU 10 %DEBUG% %COPY% disloc_rx001.elle %R%.%TSTR%.10.elle<br>'+
'&nbsp;&nbsp;&nbsp;)<br>'+
')<br>'+
':: let rotation recrystallisation on only split flynns happen<br>'+
'if %%i EQU 11 (<br>'+
'echo %BIN%\\elle_angle_rx -i tmp.elle -s 1 -f 1 -n<br>'+
'%DEBUG% %START% %BIN%\\elle_angle_rx -i tmp.elle -s 1 -f 1 -n<br>'+
'if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
'echo %COPY% angle_rx001.elle tmp.elle<br>'+
'%DEBUG% %COPY% angle_rx001.elle tmp.elle<br>'+
'if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
'if %CNT% EQU 0 (<br>'+
'&nbsp;&nbsp;&nbsp;echo %COPY% angle_rx001.elle %R%.%TSTR%.11.elle<br>'+
'&nbsp;&nbsp;&nbsp;%DEBUG% %COPY% angle_rx001.elle %R%.%TSTR%.11.elle<br>'+
') ELSE (<br>'+
'&nbsp;&nbsp;&nbsp;if %SAVEALL% EQU 11 %DEBUG% %COPY% angle_rx001.elle %R%.%TSTR%.11.elle<br>'+
'&nbsp;&nbsp;&nbsp;)<br>'+
')<br>'+
':: let grains recover<br>'+
'if %%i EQU 12 (<br>'+
'echo %BIN%\\elle_recovery -i tmp.elle -s 1 -f 1 -n<br>'+
'%DEBUG% %START% %BIN%\\elle_recovery -i tmp.elle -s 1 -f 1 -n<br>'+
'if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
'echo %COPY% recover001.elle tmp.elle<br>'+
'%DEBUG% %COPY% recover001.elle tmp.elle<br>'+
'if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
'if %CNT% EQU 0 (<br>'+
'&nbsp;&nbsp;&nbsp;echo %COPY% recover001.elle %R%.%TSTR%.12.elle<br>'+
'&nbsp;&nbsp;&nbsp;%DEBUG% %COPY% recover001.elle %R%.%TSTR%.12.elle<br>'+
') ELSE (<br>'+
'&nbsp;&nbsp;&nbsp;if %SAVEALL% EQU 12 %DEBUG% %COPY% recover001.elle %R%.%TSTR%.12.elle<br>'+
'&nbsp;&nbsp;&nbsp;)<br>'+
')<br>'+
':: let repositioning happen<br>'+
'if %%i EQU 13 (<br>'+
'echo %BIN%\\reposition -i tmp.elle -s 1 -f 1 -n<br>'+
'%DEBUG% %START% %BIN%\\reposition -i tmp.elle -s 1 -f 1 -n<br>'+
'if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
'echo %COPY% repos.elle tmp.elle<br>'+
'%DEBUG% %COPY% repos.elle tmp.elle<br>'+
'if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
'if %CNT% EQU 0 (<br>'+
'&nbsp;&nbsp;&nbsp;echo %COPY% repos.elle %R%.%TSTR%.13.elle<br>'+
'&nbsp;&nbsp;&nbsp;%DEBUG% %COPY% repos.elle %R%.%TSTR%.13.elle<br>'+
') ELSE (<br>'+
'&nbsp;&nbsp;&nbsp;if %SAVEALL% EQU 13 %DEBUG% %COPY% repos.elle %R%.%TSTR%.13.elle<br>'+
'&nbsp;&nbsp;&nbsp;)<br>'+
')<br>'+
':: do statistics<br>'+
'if %%i EQU 14 (<br>'+
'echo %BIN%\\elle_stats -i tmp.elle -s 1 -f 1 -n<br>'+
'%DEBUG% %START% %BIN%\\elle_stats -i tmp.elle -s 1 -f 1 -n<br>'+
'if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
'echo %COPY% stats001.elle tmp.elle<br>'+
'%DEBUG% %COPY% stats001.elle tmp.elle<br>'+
'if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
'if %CNT% EQU 0 (<br>'+
'&nbsp;&nbsp;&nbsp;echo %COPY% stats001.elle %R%.%TSTR%.14.elle<br>'+
'&nbsp;&nbsp;&nbsp;%DEBUG% %COPY% stats001.elle %R%.%TSTR%.14.elle<br>'+
') ELSE (<br>'+
'&nbsp;&nbsp;&nbsp;if %SAVEALL% EQU 14 %DEBUG% %COPY% stats001.elle %R%.%TSTR%.14.elle<br>'+
'&nbsp;&nbsp;&nbsp;)<br>'+
')<br>'+
':: check for small angle vertices<br>'+
'if %%i EQU 15 (<br>'+
'echo %BIN%\\checkangle -i tmp.elle -s 1 -f 1 -n<br>'+
'%DEBUG% %START% %BIN%\\checkangle -i tmp.elle -s 1 -f 1 -n<br>'+
'if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
'echo %COPY% checkangle001.elle tmp.elle<br>'+
'%DEBUG% %COPY% checkangle001.elle tmp.elle<br>'+
'if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
'if %CNT% EQU 0 (<br>'+
'&nbsp;&nbsp;&nbsp;echo %COPY% checkangle001.elle %R%.%TSTR%.15.elle<br>'+
'&nbsp;&nbsp;&nbsp;%DEBUG% %COPY% checkangle001.elle %R%.%TSTR%.15.elle<br>'+
') ELSE (<br>'+
'&nbsp;&nbsp;&nbsp;if %SAVEALL% EQU 15 %DEBUG% %COPY% checkangle001.elle %R%.%TSTR%.15.elle<br>'+
'&nbsp;&nbsp;&nbsp;)<br>'+
')<br>'+
':: recalculate viscosity<br>'+
'if %%i EQU 16 (<br>'+
'echo %BIN%\\elle_viscosity -i tmp.elle -s 1 -f 1 -n<br>'+
'%DEBUG% %START% %BIN%\\elle_viscosity -i tmp.elle -s 1 -f 1 -n<br>'+
'if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
'echo %COPY% viscosity001.elle tmp.elle<br>'+
'%DEBUG% %COPY% viscosity001.elle tmp.elle<br>'+
'if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
'if %CNT% EQU 0 (<br>'+
'&nbsp;&nbsp;&nbsp;echo %COPY% viscosity001.elle %R%.%TSTR%.16.elle<br>'+
'&nbsp;&nbsp;&nbsp;%DEBUG% %COPY% viscosity001.elle %R%.%TSTR%.16.elle<br>'+
') ELSE (<br>'+
'&nbsp;&nbsp;&nbsp;if %SAVEALL% EQU 16 %DEBUG% %COPY% viscosity001.elle %R%.%TSTR%.16.elle<br>'+
'&nbsp;&nbsp;&nbsp;)<br>'+
')<br>'+
':: let grains merge<br>'+
'if %%i EQU 17 (<br>'+
'echo %BIN%\\elle_merge -i tmp.elle -s 1 -f 1 -n<br>'+
'%DEBUG% %START% %BIN%\\elle_merge -i tmp.elle -s 1 -f 1 -n<br>'+
'if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
'echo %COPY% merge001.elle tmp.elle<br>'+
'%DEBUG% %COPY% merge001.elle tmp.elle<br>'+
'if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
'if %CNT% EQU 0 (<br>'+
'&nbsp;&nbsp;&nbsp;echo %COPY% merge001.elle %R%.%TSTR%.17.elle<br>'+
'&nbsp;&nbsp;&nbsp;%DEBUG% %COPY% merge001.elle %R%.%TSTR%.17.elle<br>'+
') ELSE (<br>'+
'&nbsp;&nbsp;&nbsp;if %SAVEALL% EQU 17 %DEBUG% %COPY% merge001.elle %R%.%TSTR%.17.elle<br>'+
'&nbsp;&nbsp;&nbsp;)<br>'+
')<br>'+
':: let grains boundaries migrate by surface energy <br>'+
'if %%i EQU 18 (<br>'+
'set S=%GGSTAGES%<br>'+
'echo %BIN%\\elle_gg -i tmp.elle -s !S! -f !S! -n<br>'+
'%DEBUG% %START% %BIN%\\elle_gg -i tmp.elle -s !S! -f !S! -n<br>'+
'if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
'echo %COPY% growth!S!.elle tmp.elle<br>'+
'%DEBUG% %COPY% growth!S!.elle tmp.elle<br>'+
'if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
'if %CNT% EQU 0 (<br>'+
'&nbsp;&nbsp;&nbsp;echo %COPY% growth!S!.elle %R%.%TSTR%.18.elle<br>'+
'&nbsp;&nbsp;&nbsp;%DEBUG% %COPY% growth!S!.elle %R%.%TSTR%.18.elle<br>'+
') ELSE (<br>'+
'&nbsp;&nbsp;&nbsp;if %SAVEALL% EQU 18 %DEBUG% %COPY% growth!S!.elle %R%.%TSTR%.18.elle<br>'+
'&nbsp;&nbsp;&nbsp;)<br>'+
')<br>'+
':: grow pblast by expand algorithm<br>'+
'if %%i EQU 19 (<br>'+
'set S=%PBSTAGES%<br>'+
'set P=-u %EXPANDSPEED% 0 0 0 0 %EXPANDAREA%<br>'+
'echo %BIN%\\elle_expand -i tmp.elle -s !S! -f !S! !P! -n<br>'+
'%DEBUG% %START% %BIN%\\elle_expand -i tmp.elle -s !S! -f !S! !P! -n<br>'+
'if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
'echo %COPY% expand!S!.elle tmp.elle<br>'+
'%DEBUG% %COPY% expand!S!.elle tmp.elle<br>'+
'if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
'if %CNT% EQU 0 (<br>'+
'&nbsp;&nbsp;&nbsp;echo %COPY% expand!S!.elle %R%.%TSTR%.19.elle<br>'+
'&nbsp;&nbsp;&nbsp;%DEBUG% %COPY% expand!S!.elle %R%.%TSTR%.19.elle<br>'+
') ELSE (<br>'+
'&nbsp;&nbsp;&nbsp;if %SAVEALL% EQU 19 %DEBUG% %COPY% expand!S!.elle %R%.%TSTR%.19.elle<br>'+
'&nbsp;&nbsp;&nbsp;)<br>'+
')<br>'+
':: gb diffussion<br>'+
'if %%i EQU 20 (<br>'+
'set S=%GBDIFFSTAGES%<br>'+
'set P=-u %GBDIFFKAPPA%<br>'+
'echo %BIN%\\elle_gbdiff -i tmp.elle -s !S! -f !S! !P! -n<br>'+
'%DEBUG% %START% %BIN%\\elle_gbdiff -i tmp.elle -s !S! -f !S! !P! -n<br>'+
'if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
'echo %COPY% gbdiff!S!.elle tmp.elle<br>'+
'%DEBUG% %COPY% gbdiff!S!.elle tmp.elle<br>'+
'if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
'if %CNT% EQU 0 (<br>'+
'&nbsp;&nbsp;&nbsp;echo %COPY% gbdiff!S!.elle %R%.%TSTR%.20.elle<br>'+
'&nbsp;&nbsp;&nbsp;%DEBUG% %COPY% gbdiff!S!.elle %R%.%TSTR%.20.elle<br>'+
') ELSE (<br>'+
'&nbsp;&nbsp;&nbsp;if %SAVEALL% EQU 20 %DEBUG% %COPY% gbdiff!S!.elle %R%.%TSTR%.20.elle<br>'+
'&nbsp;&nbsp;&nbsp;)<br>'+
')<br>'+
':: lattice diffusion<br>'+
'if %%i EQU 21 (<br>'+
'set S=%LATTDIFFSTAGES%<br>'+
'echo %BIN%\\elle_diff -i tmp.elle -s !S! -f !S! -n<br>'+
'%DEBUG% %START% %BIN%\\elle_diff -i tmp.elle -s !S! -f !S! -n<br>'+
'if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
'echo %COPY% diff!S!.elle tmp.elle<br>'+
'%DEBUG% %COPY% diff!S!.elle tmp.elle<br>'+
'if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
'if %CNT% EQU 0 (<br>'+
'&nbsp;&nbsp;&nbsp;echo %COPY% diff!S!.elle %R%.%TSTR%.21.elle<br>'+
'&nbsp;&nbsp;&nbsp;%DEBUG% %COPY% diff!S!.elle %R%.%TSTR%.21.elle<br>'+
') ELSE (<br>'+
'&nbsp;&nbsp;&nbsp;if %SAVEALL% EQU 21 %DEBUG% %COPY% diff!S!.elle %R%.%TSTR%.21.elle<br>'+
'&nbsp;&nbsp;&nbsp;)<br>'+
')<br>'+
':: let homogenoeus simple shear happen<br>'+
'if %%i EQU 22 (<br>'+
'set S=%MANUELSPEED%<br>'+
'echo %BIN%\\elle_manuel -i tmp.elle -s 1 -f 1 -v !S! -n<br>'+
'%DEBUG% %START% %BIN%\\elle_manuel -i tmp.elle -s 1 -f 1 -v !S! -n<br>'+
'if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
'echo %COPY% manuel001.elle tmp.elle<br>'+
'%DEBUG% %COPY% manuel001.elle tmp.elle<br>'+
'if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
'if %CNT% EQU 0 (<br>'+
'&nbsp;&nbsp;&nbsp;echo %COPY% manuel001.elle %R%.%TSTR%.22.elle<br>'+
'&nbsp;&nbsp;&nbsp;%DEBUG% %COPY% manuel001.elle %R%.%TSTR%.22.elle<br>'+
') ELSE (<br>'+
'&nbsp;&nbsp;&nbsp;if %SAVEALL% EQU 22 %DEBUG% %COPY% manuel001.elle %R%.%TSTR%.22.elle<br>'+
'&nbsp;&nbsp;&nbsp;)<br>'+
')<br>'+
':: exchange reaction<br>'+
'if %%i EQU 23 (<br>'+
'set S=%EXCHSTAGES%<br>'+
'set P=-u %EXCHKAPPA% 0 0 %EXCHDIFFONLY% %EXCHTEMP%<br>'+
'echo %BIN%\\elle_exchange -i tmp.elle -s !S! -f 001 !P! -n<br>'+
'%DEBUG% %START% %BIN%\\elle_exchange -i tmp.elle -s !S! -f 001 !P! -n<br>'+
'if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
'echo %COPY% exchange001.elle tmp.elle<br>'+
'%DEBUG% %COPY% exchange001.elle tmp.elle<br>'+
'if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
'if %CNT% EQU 0 (<br>'+
'&nbsp;&nbsp;&nbsp;echo %COPY% exchange001.elle %R%.%TSTR%.23.elle<br>'+
'&nbsp;&nbsp;&nbsp;%DEBUG% %COPY% exchange001.elle %R%.%TSTR%.23.elle<br>'+
') ELSE (<br>'+
'&nbsp;&nbsp;&nbsp;if %SAVEALL% EQU 23 %DEBUG% %COPY% exchange001.elle %R%.%TSTR%.23.elle<br>'+
'&nbsp;&nbsp;&nbsp;)<br>'+
')<br>'+
':: userdefined algorithm<br>'+
'if %%i EQU 99 (<br>'+
'set S=%USERSTAGES%<br>'+
'set P=-u %U1%  %U2% %U3% %U4% %U5% %U6%<br>'+
'echo %BIN%\\'+username+' -i tmp.elle -s !S! -f !S! !P! -n<br>'+
'%DEBUG% %START% %BIN%\\'+username+' -i tmp.elle -s !S! -f !S! !P! -n<br>'+
'if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
'echo %COPY% '+username+'!S!.elle tmp.elle<br>'+
'%DEBUG% %COPY% '+username+'!S!.elle tmp.elle<br>'+
'if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
'if %CNT% EQU 0 (<br>'+
'&nbsp;&nbsp;&nbsp;echo %COPY% '+username+'!S!.elle %R%.%TSTR%.99.elle<br>'+
'&nbsp;&nbsp;&nbsp;%DEBUG% %COPY% '+username+'!S!.elle %R%.%TSTR%.99.elle<br>'+
') ELSE (<br>'+
'&nbsp;&nbsp;&nbsp;if %SAVEALL% EQU 99 %DEBUG% %COPY% '+username+'!S!.elle %R%.%TSTR%.99.elle<br>'+
'&nbsp;&nbsp;&nbsp;)<br>'+
')<br>'+
'if !ERRORLEVEL! NEQ 0 GOTO END<br>'+
')<br>'+
'if NOT ERRORLEVEL  0 GOTO END<br>'+
'if %LEFT% NEQ 0 GOTO LOOP<br>'+
':END<br>'+
'if !ERRORLEVEL! NEQ 0 (<br>'+
'&nbsp;&nbsp;&nbsp;echo Terminating due to error<br>'+
') ELSE (<br>'+
'&nbsp;&nbsp;&nbsp;echo Processing finished<br>'+
')<br>'+
'endlocal<br>'+
'&nbsp;&nbsp;&nbsp;PAUSE<br>'

options = "toolbar=0,status=0,menubar=1,scrollbars=1," + 
         "resizable=1,width=700,height=400";

newwindow2=window.open("","btchwindow", options);
newwindow2.document.write(content3)
newwindow2.document.write('set LIST=')

if (ranor_on == 1)
  newwindow2.document.write('7 ');

if (angle_check_on == 1)
  newwindow2.document.write('15 ');

if (basil_on == 1)
  newwindow2.document.write('1 2 3 ');

if (manuel_on == 1)
  newwindow2.document.write('22 ');

if (oof_on == 1)
  newwindow2.document.write('9 ');

if (repos_on == 1)
  newwindow2.document.write('13 ');

if (tbh_on == 1)
  newwindow2.document.write('4 ');

if (split_on == 1)
  newwindow2.document.write('5 ');

if (gg_on == 1)
  newwindow2.document.write('18 ');

if (gbmdd_on == 1)
  newwindow2.document.write('6 ');

if (pblast_on == 1)
  newwindow2.document.write('8 ');

if (disloc_rx_on == 1)
  newwindow2.document.write('10 ');

if (angle_rx_on == 1)
  newwindow2.document.write('11 ');

if (recovery_on == 1)
  newwindow2.document.write('12 ');

if (viscosity_on == 1)
  newwindow2.document.write('16 ');

if (merge_on == 1)
  newwindow2.document.write('17 ');

if (expand_on == 1)
  newwindow2.document.write('19 ');

if (gbm_diff_on == 1)
  newwindow2.document.write('20 ');

if (latt_diff_on == 1)
  newwindow2.document.write('21 ');

if (exchange_on == 1)
  newwindow2.document.write('23 ');
  
if (user_on == 1)
  newwindow2.document.write('99 ');

if (stats_on == 1)
  newwindow2.document.write('14 ');

newwindow2.document.write('<br>')
newwindow2.document.write(content4)
newwindow2.document.write('</body>')
newwindow2.document.close()
winop2=!winop2;

}

function MakePage(root_name,start_file,last_time,time_step,basil_in,save_int,save_all,stages,stagesgbm,basil_on,gg_on,tbh_on,ranor_on,pblast_on,oof_on,recovery_on,rotrx_on,viscosity_on,gbmdd_on,repos_on,plotax_on,merge_on,angle_check_on,stats_on,split_on,disloc_rx_on,angle_rx_on,stagespb,expand_on,gbm_diff_on,latt_diff_on,stagesgbdiff,gbdiffkappa,stageslattdiff,expandarea,expandspeed,manuel_on,manuelspeed,user_on,username,stagesuser,userdata1,userdata2,userdata3,userdata4,userdata5,userdata6,gv_display_on,exchange_on,exchkappa,exchtemp,exchdiff_only,stagesexch) 
{

var plotax_text;
var gv_display_text;

if(plotax_on==1)
    plotax_text= ' PLOTAX=1 <br>'
else
    plotax_text= ' PLOTAX=0 <br>'

if(gv_display_on==1)
    gv_display_text= ' GV_SAVE=1 <br>'
else
    gv_display_text= ' GV_SAVE=0 <br>'

if(exchdiff_only==1)
    exchdiff_only_text= ' EXCHDIFFONLY=1 <br>'
else
    exchdiff_only_text= ' EXCHDIFFONLY=0 <br>'

if(basil_on==1)
    basil_dir_text= '&nbsp;&nbsp;&nbsp;mkdir -p FD.sols; mkdir -p FD.out;<br>'+
'&nbsp;&nbsp;&nbsp;/bin/rm -f lastlg <br>'
else
    basil_dir_text= ' '

var content1 = '<HTML><HEAD><TITLE>shelle output</title>' +
'</head><body>' + '<font size="-1">' +
'#!/bin/sh <br>' +
'#shell script generated by shelle v1.24<br>' +
' DEBUG= #for running <br>' +
' #DEBUG=echo #for debugging <br>' +
' NICE=<br>' +
' if test -f /bin/nice<br>' +
' then<br> NICE=nice<br> fi<br>' +
' if ! test $ELLEPATH <br>' +
' then<br>'+
' &nbsp;&nbsp;echo Please set your environment variable $ELLEPATH <br>'+
' &nbsp;&nbsp;echo so that $ELLEPATH/binwx is the location of the <br>'+
' &nbsp;&nbsp;echo Elle executables <br>'+
' &nbsp;&nbsp;exit 1 <br>'+
' fi <br>'+
' BIN=$ELLEPATH/binwx #location of the Elle applications <br>' +
' if ! test $BASILPATH <br>' +
' then<br>'+
' BINB=$BIN <br>' +
' else<br>'+
' BINB=$BASILPATH/bin #location of the Basil exe <br>' +
' fi <br>'+
' STARTFILE='+start_file+' <br>' +
' TIME=00 <br>' +
' LASTTIME='+last_time+' <br>' +
' TIMESTEP='+time_step+' <br>' +
' GGSTAGES='+pad(stages,3)+' <br>' +
' GSTAGES='+pad(stagesgbm,3)+' <br>' +
' PBSTAGES='+pad(stagespb,3)+' <br>' +
' USERNAME='+username+' <br>' +
' USERSTAGES='+pad(stagesuser,3)+' <br>' +
' USERDATA1='+userdata1+' <br>' +
' USERDATA2='+userdata2+' <br>' +
' USERDATA3='+userdata3+' <br>' +
' USERDATA4='+userdata4+' <br>' +
' USERDATA5='+userdata5+' <br>' +
' USERDATA6='+userdata6+' <br>' +
' GBDIFFSTAGES='+pad(stagesgbdiff,3)+' <br>' +
' GBDIFFKAPPA='+gbdiffkappa+' <br>' +
' LATTDIFFSTAGES='+pad(stageslattdiff,3)+' <br>' +
' EXCHSTAGES='+pad(stagesexch,3)+' <br>' +
' EXCHKAPPA='+exchkappa+' <br>' +
' EXCHTEMP='+exchtemp+' <br>' +
exchdiff_only_text +
' EXPANDAREA='+expandarea+' <br>' +
' EXPANDSPEED='+expandspeed+' <br>' +
' MANUELSPEED='+manuelspeed+' <br>' +
' SAVEINTVL='+save_int+' <br>' +
' SAVEALL='+save_all+' <br>' +
' BASINFILE='+basil_in+' <br>' +
' ROOTNAME='+root_name+' <br>' +
gv_display_text +
plotax_text

var content2 ='# set the input for the first process<br>'+
'&nbsp;&nbsp;&nbsp;echo copy $STARTFILE to tmp.elle<br>'+
'&nbsp;&nbsp;&nbsp;$DEBUG /bin/cp $STARTFILE tmp.elle<br>'+
'&nbsp;&nbsp;&nbsp;if [ $GV_SAVE -eq 1 ]<br>'+
'&nbsp;&nbsp;&nbsp;then<br>'+
'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo $BIN/showelleps -i tmp.elle <br>'+
'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$DEBUG $BIN/showelleps -i tmp.elle <br>'+
'&nbsp;&nbsp;&nbsp;fi<br>'+
'if [ $TIME -eq 0 ]<br>'+
'then<br>'+
'&nbsp;&nbsp;&nbsp;echo copy $STARTFILE to $ROOTNAME.000.00.elle<br>'+
'&nbsp;&nbsp;&nbsp;$DEBUG $NICE /bin/cp $STARTFILE $ROOTNAME.000.00.elle<br>'+
'&nbsp;&nbsp;&nbsp;if [ $? != 0 -o ! -f $STARTFILE ]<br>'+
'&nbsp;&nbsp;&nbsp;then<br>'+
'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit 1<br>' +
'&nbsp;&nbsp;&nbsp;fi<br>'+
basil_dir_text +
'fi<br>'+
'<br>'+
'# do the randomise crystal axes command<br>'+
'for VAL in $LIST<br>'+
'do<br>'+
'case $VAL in<br>'+
'7)  FILEROOT7=tidy001<br>'+
'&nbsp;&nbsp;&nbsp;echo $BIN/tidy -i tmp.elle -u 0 1 -s 1 -f 1 -n<br>'+
'&nbsp;&nbsp;&nbsp;$DEBUG $NICE $BIN/tidy -i tmp.elle -u 0 1 -s 1 -f 1 -n<br>'+
'&nbsp;&nbsp;&nbsp;FILEROOT=$FILEROOT7<br>'+
'&nbsp;&nbsp;&nbsp;echo copy $FILEROOT.elle to tmp.elle<br>'+
'&nbsp;&nbsp;&nbsp;$DEBUG $NICE /bin/cp $FILEROOT.elle tmp.elle<br>'+
'&nbsp;&nbsp;&nbsp;echo move $FILEROOT.elle to $ROOTNAME.000.01.elle<br>'+
'&nbsp;&nbsp;&nbsp;$DEBUG $NICE /bin/mv $FILEROOT.elle $ROOTNAME.000.01.elle<br>'+
';;<br>'+
'esac<br>'+
'done<br>'+
'<br>'+
'# loop through until time is up<br>'+
'ERROR=0<br>'+
'while [ $TIME -lt $LASTTIME -a $ERROR -eq 0 ]<br>'+
'do<br>'+
'# update time variable<br>'+
'&nbsp;&nbsp;&nbsp;TIME=`expr $TIME + $TIMESTEP`<br>'+
'&nbsp;&nbsp;&nbsp;if [ `expr $TIME \\< 10` -gt 0 ]<br>'+
'&nbsp;&nbsp;&nbsp;then<br>'+
'&nbsp;&nbsp;&nbsp;    TIME=0$TIME<br>'+
'&nbsp;&nbsp;&nbsp;fi<br>'+
'&nbsp;&nbsp;&nbsp;if [ `expr $TIME \\< 100` -gt 0 ]<br>'+
'&nbsp;&nbsp;&nbsp;then<br>'+
'&nbsp;&nbsp;&nbsp;    TIME=0$TIME<br>'+
'&nbsp;&nbsp;&nbsp;fi<br>'+
'echo TIME=$TIME<br>'+
'<br>'+
'# run the loop<br>'+
'for VAL in $LIST<br>'+
'do<br>'+
'&nbsp;&nbsp;&nbsp;unset COMMAND<br>'+
'&nbsp;&nbsp;&nbsp;unset SAVE<br>'+
'&nbsp;&nbsp;&nbsp;unset SAVE2<br>'+
'&nbsp;&nbsp;&nbsp;unset SAVE3<br>'+
'&nbsp;&nbsp;&nbsp;unset SAVEBASIL<br>'+
'&nbsp;&nbsp;&nbsp;unset COPYPROCESS<br>'+
'&nbsp;&nbsp;&nbsp;unset COPYPROCESS2<br>'+
'&nbsp;&nbsp;&nbsp;unset PROCID<br>'+
'# set the command<br>'+
'case $VAL in<br>'+
'<br>'+
'# create the polygon input from the elle file<br>'+
'1)  PROCESS1=$BIN/elle2poly #process 1<br>'+
'&nbsp;&nbsp;&nbsp;PARAMETERS1="tmp.elle tmp.poly pb" #input for process 1<br>'+
'&nbsp;&nbsp;&nbsp;COMMAND="$PROCESS1 $PARAMETERS1"<br>'+
'&nbsp;&nbsp;&nbsp;PROCID=01<br>'+
'&nbsp;&nbsp;&nbsp;;;<br>'+
'<br>'+
'# run basil<br>'+
'2)  PROCESS2=$BINB/basil #process 2<br>'+
'&nbsp;&nbsp;&nbsp;PARAMETERS2=$BASINFILE #input for process 2  <br>'+
'&nbsp;&nbsp;&nbsp;COMMAND="$PROCESS2 $PARAMETERS2"<br>'+
'&nbsp;&nbsp;&nbsp;SAVEBASIL="/bin/cp FD.sols/basil FD.sols/$ROOTNAME.$TIME"<br>'+
'&nbsp;&nbsp;&nbsp;SAVE2="/bin/cp FD.out/basil.out FD.out/$ROOTNAME.out.$TIME"<br>'+
'&nbsp;&nbsp;&nbsp;PROCID=02<br>'+
'&nbsp;&nbsp;&nbsp;;;<br>'+
'<br>'+
'# convert to elle format<br>'+
'3)  PROCESS3=$BIN/basil2elle #process 3<br>'+
'&nbsp;&nbsp;&nbsp;PARAMETERS3="-i FD.sols/basil -r 2 -o tmp2.elle"<br>'+
'&nbsp;&nbsp;&nbsp;COPYPROCESS="/bin/cp tmp2.elle tmp.elle"<br>'+
'&nbsp;&nbsp;&nbsp;COMMAND="$PROCESS3 $PARAMETERS3"<br>'+
'&nbsp;&nbsp;&nbsp;SAVE="/bin/mv tmp2.elle $ROOTNAME"<br>'+
'&nbsp;&nbsp;&nbsp;PROCID=03<br>'+
'&nbsp;&nbsp;&nbsp;;;<br>'+
'<br>'+
'# let tbh happen<br>'+
'4)  PROCESS4=$BIN/elle_tbh #process 4<br>'+
'&nbsp;&nbsp;&nbsp;PARAMETERS4="-i tmp.elle -s 1 -f 1 -n"<br>'+
'&nbsp;&nbsp;&nbsp;FILEROOT4=tbh.calc001<br>'+
'&nbsp;&nbsp;&nbsp;SAVEPROCESS4="/bin/mv $FILEROOT4.elle $ROOTNAME"<br>'+
'&nbsp;&nbsp;&nbsp;COPYPROCESS="/bin/cp $FILEROOT4.elle tmp.elle"<br>'+
'&nbsp;&nbsp;&nbsp;SAVE3="$BIN/plotaxes -i $ROOTNAME"<br>'+
'&nbsp;&nbsp;&nbsp;COMMAND="$PROCESS4 $PARAMETERS4"<br>'+
'&nbsp;&nbsp;&nbsp;SAVE=$SAVEPROCESS4<br>'+
'&nbsp;&nbsp;&nbsp;FILEROOT=$FILEROOT4<br>'+
'&nbsp;&nbsp;&nbsp;PROCID=04<br>'+
'&nbsp;&nbsp;&nbsp;;;<br>'+
'<br>'+
'# let grains split into subgrains<br>'+
'5)  PROCESS5=$BIN/elle_split #process 5<br>'+
'&nbsp;&nbsp;&nbsp;PARAMETERS5="-i tmp.elle -s 1 -f 1 -n"<br>'+
'&nbsp;&nbsp;&nbsp;FILEROOT5=split001<br>'+
'&nbsp;&nbsp;&nbsp;SAVEPROCESS5="/bin/mv $FILEROOT5.elle $ROOTNAME"<br>'+
'&nbsp;&nbsp;&nbsp;COPYPROCESS="/bin/cp $FILEROOT5.elle tmp.elle"<br>'+
'&nbsp;&nbsp;&nbsp;COMMAND="$PROCESS5 $PARAMETERS5"<br>'+
'&nbsp;&nbsp;&nbsp;SAVE=$SAVEPROCESS5<br>'+
'&nbsp;&nbsp;&nbsp;FILEROOT=$FILEROOT5<br>'+
'&nbsp;&nbsp;&nbsp;PROCID=05<br>'+
'&nbsp;&nbsp;&nbsp;;;<br>'+
'<br>'+
'# let grains boundaries migrate by everything<br>'+
'6)  PROCESS6=$BIN/elle_gbm #process 6<br>'+
'&nbsp;&nbsp;&nbsp;PARAMETERS6="-i tmp.elle -s $GSTAGES -f $GSTAGES -n"<br>'+
'&nbsp;&nbsp;&nbsp;FILEROOT6=gbm<br>'+
'&nbsp;&nbsp;&nbsp;SAVEPROCESS6="/bin/mv $FILEROOT6$GSTAGES.elle $ROOTNAME"<br>'+
'&nbsp;&nbsp;&nbsp;COPYPROCESS="/bin/cp $FILEROOT6$GSTAGES.elle tmp.elle"<br>'+
'&nbsp;&nbsp;&nbsp;COMMAND="$PROCESS6 $PARAMETERS6"<br>'+
'&nbsp;&nbsp;&nbsp;SAVE=$SAVEPROCESS6<br>'+
'&nbsp;&nbsp;&nbsp;FILEROOT=$FILEROOT6<br>'+
'&nbsp;&nbsp;&nbsp;PROCID=06<br>'+
'&nbsp;&nbsp;&nbsp;;;<br>'+
'<br>'+
'# grow pblast<br>'+
'8)  PROCESS8=$BIN/elle_pblast #process 8<br>'+
'&nbsp;&nbsp;&nbsp;PARAMETERS8="-i tmp.elle -s $PBSTAGES -f $PBSTAGES -n"<br>'+
'&nbsp;&nbsp;&nbsp;FILEROOT8=pblast<br>'+
'&nbsp;&nbsp;&nbsp;SAVEPROCESS8="/bin/mv $FILEROOT8$PBSTAGES.elle $ROOTNAME"<br>'+
'&nbsp;&nbsp;&nbsp;COPYPROCESS="/bin/cp $FILEROOT8$PBSTAGES.elle tmp.elle"<br>'+
'&nbsp;&nbsp;&nbsp;COMMAND="$PROCESS8 $PARAMETERS8"<br>'+
'&nbsp;&nbsp;&nbsp;SAVE=$SAVEPROCESS8<br>'+
'&nbsp;&nbsp;&nbsp;FILEROOT=$FILEROOT8<br>'+
'&nbsp;&nbsp;&nbsp;PROCID=08<br>'+
'&nbsp;&nbsp;&nbsp;;;<br>'+
'<br>'+
'# do oof calculation<br>'+
'9)  PROCESS9=$BIN/batch_oof #process 9<br>'+
'&nbsp;&nbsp;&nbsp;COMMAND="$PROCESS9 "<br>'+
'&nbsp;&nbsp;&nbsp;FILEROOT9=goof2elle001<br>'+
'&nbsp;&nbsp;&nbsp;SAVEPROCESS9="/bin/mv $FILEROOT9.elle $ROOTNAME"<br>'+
'&nbsp;&nbsp;&nbsp;COPYPROCESS="/bin/cp $FILEROOT9.elle tmp.elle"<br>'+
'&nbsp;&nbsp;&nbsp;SAVE=$SAVEPROCESS9<br>'+
'&nbsp;&nbsp;&nbsp;FILEROOT=$FILEROOT9<br>'+
'&nbsp;&nbsp;&nbsp;PROCID=09<br>'+
'&nbsp;&nbsp;&nbsp;;;<br>'+
'<br>'+
'# let let nucleation/recrystallisation happen if dislocden is high enough<br>'+
'10)  PROCESS10=$BIN/elle_disloc_rx #process 10<br>'+
'&nbsp;&nbsp;&nbsp;PARAMETERS10="-i tmp.elle -s 1 -f 1 -n"<br>'+
'&nbsp;&nbsp;&nbsp;FILEROOT10=disloc_rx001<br>'+
'&nbsp;&nbsp;&nbsp;SAVEPROCESS10="/bin/mv $FILEROOT10.elle $ROOTNAME"<br>'+
'&nbsp;&nbsp;&nbsp;COPYPROCESS="/bin/cp $FILEROOT10.elle tmp.elle"<br>'+
'&nbsp;&nbsp;&nbsp;COMMAND="$PROCESS10 $PARAMETERS10"<br>'+
'&nbsp;&nbsp;&nbsp;SAVE=$SAVEPROCESS10<br>'+
'&nbsp;&nbsp;&nbsp;FILEROOT=$FILEROOT10<br>'+
'&nbsp;&nbsp;&nbsp;PROCID=10<br>'+
'&nbsp;&nbsp;&nbsp;;;<br>'+
'<br>'+
'# let rotation recrystallisation on only split flynns happen<br>'+
'11)  PROCESS11=$BIN/elle_angle_rx #process 11<br>'+
'&nbsp;&nbsp;&nbsp;PARAMETERS11="-i tmp.elle -s 1 -f 1 -n"<br>'+
'&nbsp;&nbsp;&nbsp;FILEROOT11=angle_rx001<br>'+
'&nbsp;&nbsp;&nbsp;SAVEPROCESS11="/bin/mv $FILEROOT11.elle $ROOTNAME"<br>'+
'&nbsp;&nbsp;&nbsp;COPYPROCESS="/bin/cp $FILEROOT11.elle tmp.elle"<br>'+
'&nbsp;&nbsp;&nbsp;COMMAND="$PROCESS11 $PARAMETERS11"<br>'+
'&nbsp;&nbsp;&nbsp;SAVE=$SAVEPROCESS11<br>'+
'&nbsp;&nbsp;&nbsp;FILEROOT=$FILEROOT11<br>'+
'&nbsp;&nbsp;&nbsp;PROCID=11<br>'+
'&nbsp;&nbsp;&nbsp;;;<br>'+
'<br>'+
'# let grains recover<br>'+
'12)  PROCESS12=$BIN/elle_recovery #process 12<br>'+
'&nbsp;&nbsp;&nbsp;PARAMETERS12="-i tmp.elle -s 1 -f 1 -n"<br>'+
'&nbsp;&nbsp;&nbsp;FILEROOT12=recover001<br>'+
'&nbsp;&nbsp;&nbsp;SAVEPROCESS12="/bin/mv $FILEROOT12.elle $ROOTNAME"<br>'+
'&nbsp;&nbsp;&nbsp;COPYPROCESS="/bin/cp $FILEROOT12.elle tmp.elle"<br>'+
'&nbsp;&nbsp;&nbsp;COMMAND="$PROCESS12 $PARAMETERS12"<br>'+
'&nbsp;&nbsp;&nbsp;SAVE=$SAVEPROCESS12<br>'+
'&nbsp;&nbsp;&nbsp;FILEROOT=$FILEROOT12<br>'+
'&nbsp;&nbsp;&nbsp;PROCID=12<br>'+
'&nbsp;&nbsp;&nbsp;;;<br>'+
'<br>'+
'# let repositioning happen<br>'+
'13)  PROCESS13=$BIN/reposition #process 13<br>'+
'&nbsp;&nbsp;&nbsp;PARAMETERS13="-i tmp.elle -s 1 -f 1 -n"<br>'+
'&nbsp;&nbsp;&nbsp;FILEROOT13=repos<br>'+
'&nbsp;&nbsp;&nbsp;SAVEPROCESS13="/bin/mv $FILEROOT13.elle $ROOTNAME"<br>'+
'&nbsp;&nbsp;&nbsp;COPYPROCESS="/bin/cp $FILEROOT13.elle tmp.elle"<br>'+
'&nbsp;&nbsp;&nbsp;COMMAND="$PROCESS13 $PARAMETERS13"<br>'+
'&nbsp;&nbsp;&nbsp;SAVE=$SAVEPROCESS13<br>'+
'&nbsp;&nbsp;&nbsp;FILEROOT=$FILEROOT13<br>'+
'&nbsp;&nbsp;&nbsp;PROCID=13<br>'+
'&nbsp;&nbsp;&nbsp;;;<br>'+
'<br>'+
'# do statistics<br>'+
'14)  PROCESS14=$BIN/statistics #process 14<br>'+
'&nbsp;&nbsp;&nbsp;PARAMETERS14="-i tmp.elle -s 1 -f 1 -n"<br>'+
'&nbsp;&nbsp;&nbsp;FILEROOT14=merge001<br>'+
'&nbsp;&nbsp;&nbsp;SAVEPROCESS14="/bin/mv $FILEROOT14.elle $ROOTNAME"<br>'+
'&nbsp;&nbsp;&nbsp;COPYPROCESS="/bin/cp $FILEROOT14.elle tmp.elle"<br>'+
'&nbsp;&nbsp;&nbsp;COMMAND="$PROCESS14 $PARAMETERS14"<br>'+
'&nbsp;&nbsp;&nbsp;SAVE=$SAVEPROCESS14<br>'+
'&nbsp;&nbsp;&nbsp;FILEROOT=$FILEROOT14<br>'+
'&nbsp;&nbsp;&nbsp;PROCID=14<br>'+
'&nbsp;&nbsp;&nbsp;;;<br>'+
'<br>'+
'# check for small angle vertices<br>'+
'15)  PROCESS15=$BIN/checkangle #process 15<br>'+
'&nbsp;&nbsp;&nbsp;PARAMETERS15="-i tmp.elle -s 1 -f 1 -n"<br>'+
'&nbsp;&nbsp;&nbsp;FILEROOT15=checkangle001<br>'+
'&nbsp;&nbsp;&nbsp;SAVEPROCESS15="/bin/mv $FILEROOT15.elle $ROOTNAME"<br>'+
'&nbsp;&nbsp;&nbsp;COPYPROCESS="/bin/cp $FILEROOT15.elle tmp.elle"<br>'+
'&nbsp;&nbsp;&nbsp;COMMAND="$PROCESS15 $PARAMETERS15"<br>'+
'&nbsp;&nbsp;&nbsp;SAVE=$SAVEPROCESS15<br>'+
'&nbsp;&nbsp;&nbsp;FILEROOT=$FILEROOT15<br>'+
'&nbsp;&nbsp;&nbsp;PROCID=15<br>'+
'&nbsp;&nbsp;&nbsp;;;<br>'+
'<br>'+
'# recalculate viscosity<br>'+
'16)  PROCESS16=$BIN/elle_viscosity #process 16<br>'+
'&nbsp;&nbsp;&nbsp;PARAMETERS16="-i tmp.elle -s 1 -f 1 -n"<br>'+
'&nbsp;&nbsp;&nbsp;FILEROOT16=viscosity001<br>'+
'&nbsp;&nbsp;&nbsp;SAVEPROCESS16="/bin/mv $FILEROOT16.elle $ROOTNAME"<br>'+
'&nbsp;&nbsp;&nbsp;COPYPROCESS="/bin/cp $FILEROOT16.elle tmp.elle"<br>'+
'&nbsp;&nbsp;&nbsp;COMMAND="$PROCESS16 $PARAMETERS16"<br>'+
'&nbsp;&nbsp;&nbsp;SAVE=$SAVEPROCESS16<br>'+
'&nbsp;&nbsp;&nbsp;FILEROOT=$FILEROOT16<br>'+
'&nbsp;&nbsp;&nbsp;PROCID=16<br>'+
'&nbsp;&nbsp;&nbsp;;;<br>'+
'<br>'+
'# let grains merge<br>'+
'17)  PROCESS17=$BIN/elle_merge #process 17<br>'+
'&nbsp;&nbsp;&nbsp;PARAMETERS17="-i tmp.elle -s 1 -f 1 -n"<br>'+
'&nbsp;&nbsp;&nbsp;FILEROOT17=merge001<br>'+
'&nbsp;&nbsp;&nbsp;SAVEPROCESS17="/bin/mv $FILEROOT17.elle $ROOTNAME"<br>'+
'&nbsp;&nbsp;&nbsp;COPYPROCESS="/bin/cp $FILEROOT17.elle tmp.elle"<br>'+
'&nbsp;&nbsp;&nbsp;COMMAND="$PROCESS17 $PARAMETERS17"<br>'+
'&nbsp;&nbsp;&nbsp;SAVE=$SAVEPROCESS17<br>'+
'&nbsp;&nbsp;&nbsp;FILEROOT=$FILEROOT17<br>'+
'&nbsp;&nbsp;&nbsp;PROCID=17<br>'+
'&nbsp;&nbsp;&nbsp;;;<br>'+
'<br>'+
'# let grains boundaries migrate by surface energy <br>'+
'18)  PROCESS18=$BIN/elle_gg #process 18<br>'+
'&nbsp;&nbsp;&nbsp;PARAMETERS18="-i tmp.elle -s $GGSTAGES -f $GGSTAGES -n"<br>'+
'&nbsp;&nbsp;&nbsp;FILEROOT18=growth<br>'+
'&nbsp;&nbsp;&nbsp;SAVEPROCESS18="/bin/mv $FILEROOT18$GGSTAGES.elle $ROOTNAME"<br>'+
'&nbsp;&nbsp;&nbsp;COPYPROCESS="/bin/cp $FILEROOT18$GGSTAGES.elle tmp.elle"<br>'+
'&nbsp;&nbsp;&nbsp;COMMAND="$PROCESS18 $PARAMETERS18"<br>'+
'&nbsp;&nbsp;&nbsp;SAVE=$SAVEPROCESS18<br>'+
'&nbsp;&nbsp;&nbsp;FILEROOT=$FILEROOT18<br>'+
'&nbsp;&nbsp;&nbsp;PROCID=18<br>'+
'&nbsp;&nbsp;&nbsp;;;<br>'+
'<br>'+
'# grow pblast by expand algorithm<br>'+
'19)  PROCESS19=$BIN/elle_expand #process 19<br>'+
'&nbsp;&nbsp;&nbsp;PARAMETERS19="-i tmp.elle -s $PBSTAGES -f $PBSTAGES -u $EXPANDSPEED 0 0 0 0 $EXPANDAREA -n"<br>'+
'&nbsp;&nbsp;&nbsp;FILEROOT19=expand<br>'+
'&nbsp;&nbsp;&nbsp;SAVEPROCESS19="/bin/mv $FILEROOT19$PBSTAGES.elle $ROOTNAME"<br>'+
'&nbsp;&nbsp;&nbsp;COPYPROCESS="/bin/cp $FILEROOT19$PBSTAGES.elle tmp.elle"<br>'+
'&nbsp;&nbsp;&nbsp;COMMAND="$PROCESS19 $PARAMETERS19"<br>'+
'&nbsp;&nbsp;&nbsp;SAVE=$SAVEPROCESS19<br>'+
'&nbsp;&nbsp;&nbsp;FILEROOT=$FILEROOT19<br>'+
'&nbsp;&nbsp;&nbsp;PROCID=19<br>'+
'&nbsp;&nbsp;&nbsp;;;<br>'+
'<br>'+
'# gb diffussion<br>'+
'20)  PROCESS20=$BIN/elle_gbdiff #process 8<br>'+
'&nbsp;&nbsp;&nbsp;PARAMETERS20="-i tmp.elle -s $GBDIFFSTAGES -f $GBDIFFSTAGES -u $GBDIFFKAPPA -n"<br>'+
'&nbsp;&nbsp;&nbsp;FILEROOT20=gbdiff<br>'+
'&nbsp;&nbsp;&nbsp;SAVEPROCESS20="/bin/mv $FILEROOT20$GBDIFFSTAGES.elle $ROOTNAME"<br>'+
'&nbsp;&nbsp;&nbsp;COPYPROCESS="/bin/cp $FILEROOT20$GBDIFFSTAGES.elle tmp.elle"<br>'+
'&nbsp;&nbsp;&nbsp;COMMAND="$PROCESS20 $PARAMETERS20"<br>'+
'&nbsp;&nbsp;&nbsp;SAVE=$SAVEPROCESS20<br>'+
'&nbsp;&nbsp;&nbsp;FILEROOT=$FILEROOT20<br>'+
'&nbsp;&nbsp;&nbsp;PROCID=20<br>'+
'&nbsp;&nbsp;&nbsp;;;<br>'+
'<br>'+
'# lattice diffusion<br>'+
'21)  PROCESS21=$BIN/elle_diff #process 8<br>'+
'&nbsp;&nbsp;&nbsp;PARAMETERS21="-i tmp.elle -s $LATTDIFFSTAGES -f $LATTDIFFSTAGES -n"<br>'+
'&nbsp;&nbsp;&nbsp;FILEROOT21=diff<br>'+
'&nbsp;&nbsp;&nbsp;SAVEPROCESS21="/bin/mv $FILEROOT21$LATTDIFFSTAGES.elle $ROOTNAME"<br>'+
'&nbsp;&nbsp;&nbsp;COPYPROCESS="/bin/cp $FILEROOT21$LATTDIFFSTAGES.elle tmp.elle"<br>'+
'&nbsp;&nbsp;&nbsp;COMMAND="$PROCESS21 $PARAMETERS21"<br>'+
'&nbsp;&nbsp;&nbsp;SAVE=$SAVEPROCESS21<br>'+
'&nbsp;&nbsp;&nbsp;FILEROOT=$FILEROOT21<br>'+
'&nbsp;&nbsp;&nbsp;PROCID=21<br>'+
'&nbsp;&nbsp;&nbsp;;;<br>'+
'<br>'+
'# let homogenoeus simple shear happen<br>'+
'22)  PROCESS22=$BIN/elle_manuel #process 13<br>'+
'&nbsp;&nbsp;&nbsp;PARAMETERS22="-i tmp.elle -s 1 -f 1 -v $MANUELSPEED -n"<br>'+
'&nbsp;&nbsp;&nbsp;FILEROOT22=manuel001<br>'+
'&nbsp;&nbsp;&nbsp;SAVEPROCESS22="/bin/mv $FILEROOT22.elle $ROOTNAME"<br>'+
'&nbsp;&nbsp;&nbsp;COPYPROCESS="/bin/cp $FILEROOT22.elle tmp.elle"<br>'+
'&nbsp;&nbsp;&nbsp;COMMAND="$PROCESS22 $PARAMETERS22"<br>'+
'&nbsp;&nbsp;&nbsp;SAVE=$SAVEPROCESS22<br>'+
'&nbsp;&nbsp;&nbsp;FILEROOT=$FILEROOT22<br>'+
'&nbsp;&nbsp;&nbsp;PROCID=22<br>'+
'&nbsp;&nbsp;&nbsp;;;<br>'+
'<br>'+
'# exchange reaction<br>'+
'23)  PROCESS23=$BIN/elle_exchange #process 23<br>'+
'&nbsp;&nbsp;&nbsp;PARAMETERS23="-i tmp.elle -s $EXCHSTAGES -f 001 -u $EXCHKAPPA 0 0 $EXCHDIFFONLY $EXCHTEMP -n"<br>'+
'&nbsp;&nbsp;&nbsp;FILEROOT23=exchange001<br>'+
'&nbsp;&nbsp;&nbsp;SAVEPROCESS23="/bin/mv $FILEROOT23.elle $ROOTNAME"<br>'+
'&nbsp;&nbsp;&nbsp;COPYPROCESS="/bin/cp $FILEROOT23.elle tmp.elle"<br>'+
'&nbsp;&nbsp;&nbsp;COMMAND="$PROCESS23 $PARAMETERS23"<br>'+
'&nbsp;&nbsp;&nbsp;SAVE=$SAVEPROCESS23<br>'+
'&nbsp;&nbsp;&nbsp;FILEROOT=$FILEROOT23<br>'+
'&nbsp;&nbsp;&nbsp;PROCID=23<br>'+
'&nbsp;&nbsp;&nbsp;;;<br>'+
'<br>'+
'# userdefined algorithm<br>'+
'99)  PROCESS99=$BIN/'+username+' #process 99<br>'+
'&nbsp;&nbsp;&nbsp;PARAMETERS99="-i tmp.elle -s $USERSTAGES -f $USERSTAGES -u $USERDATA1 $USERDATA2 $USERDATA3 $USERDATA4 $USERDATA5 $USERDATA6 -n"<br>'+
'&nbsp;&nbsp;&nbsp;FILEROOT99='+username+'<br>'+
'&nbsp;&nbsp;&nbsp;SAVEPROCESS99="/bin/mv $FILEROOT99$USERSTAGES.elle $ROOTNAME"<br>'+
'&nbsp;&nbsp;&nbsp;COPYPROCESS="/bin/cp $FILEROOT99$USERSTAGES.elle tmp.elle"<br>'+
'&nbsp;&nbsp;&nbsp;COMMAND="$PROCESS99 $PARAMETERS99"<br>'+
'&nbsp;&nbsp;&nbsp;SAVE=$SAVEPROCESS99<br>'+
'&nbsp;&nbsp;&nbsp;FILEROOT=$FILEROOT99<br>'+
'&nbsp;&nbsp;&nbsp;PROCID=99<br>'+
'&nbsp;&nbsp;&nbsp;;;<br>'+
'<br>'+
'esac<br>'+
'<br>'+
'# run the command<br>'+
'if [ $ERROR -eq 0 ]<br>'+
'then<br>'+
'&nbsp;&nbsp;&nbsp;echo ${COMMAND}<br>'+
'&nbsp;&nbsp;&nbsp;$DEBUG $NICE ${COMMAND}<br>'+
'&nbsp;&nbsp;&nbsp;if [ $? != 0 ]<br>'+
'&nbsp;&nbsp;&nbsp;then<br>'+
'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ERROR=1<br>' +
'&nbsp;&nbsp;&nbsp;fi<br><br>'+
'&nbsp;&nbsp;&nbsp;if [ "$COPYPROCESS" -a $ERROR -eq 0 ]<br>'+
'&nbsp;&nbsp;&nbsp;then<br>'+
'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo ${COPYPROCESS}<br>'+
'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$DEBUG ${COPYPROCESS}<br>'+
'&nbsp;&nbsp;&nbsp;fi<br><br>'+
'&nbsp;&nbsp;&nbsp;if [ $? != 0 ]<br>'+
'&nbsp;&nbsp;&nbsp;then<br>'+
'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ERROR=1<br>' +
'&nbsp;&nbsp;&nbsp;fi<br><br>'+
'&nbsp;&nbsp;&nbsp;if [ "$COPYPROCESS2" -a $ERROR -eq 0 ]<br>'+
'&nbsp;&nbsp;&nbsp;then<br>'+
'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo ${COPYPROCESS2}<br>'+
'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$DEBUG ${COPYPROCESS2}<br>'+
'&nbsp;&nbsp;&nbsp;fi<br><br>'+
'&nbsp;&nbsp;&nbsp;if [ $? != 0 ]<br>'+
'&nbsp;&nbsp;&nbsp;then<br>'+
'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ERROR=1<br>' +
'&nbsp;&nbsp;&nbsp;fi<br><br>'+
'fi<br>'+
'# save files, if requested interval and save command set<br>'+
'<br>'+
'if [ "$PROCID" ]<br>'+
'then<br>'+
'if [ `expr $TIME % $SAVEINTVL` -eq 0 -o ${PROCID} -eq ${SAVEALL} ]<br>'+ 
'then<br>'+
'if [ $ERROR -eq 0 ]<br>' +
'then<br>'+
'&nbsp;&nbsp;&nbsp;if [ "$SAVE" ]<br>'+
'&nbsp;&nbsp;&nbsp;then<br>'+
'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if [ $GV_SAVE -eq 1 ]<br>'+
'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then<br>'+
'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo $BIN/showelleps -i tmp.elle <br>'+
'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$DEBUG $BIN/showelleps -i tmp.elle <br>'+
'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fi<br>'+
'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo $SAVE.$TIME.$PROCID.elle<br>'+
'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$DEBUG $SAVE.$TIME.$PROCID.elle<br>'+
'&nbsp;&nbsp;&nbsp;fi<br><br>'+
'&nbsp;&nbsp;&nbsp;if [ $? != 0 ]<br>'+
'&nbsp;&nbsp;&nbsp;then<br>'+
'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ERROR=1<br>' +
'&nbsp;&nbsp;&nbsp;fi<br><br>'+
'&nbsp;&nbsp;&nbsp;if [ "$SAVE2" -a $ERROR -eq 0 ]<br>'+
'&nbsp;&nbsp;&nbsp;then<br>'+
'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo ${SAVE2}<br>'+
'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$DEBUG ${SAVE2}<br>'+
'&nbsp;&nbsp;&nbsp;fi<br><br>'+
'&nbsp;&nbsp;&nbsp;if [ "$SAVEBASIL" -a $ERROR -eq 0 ]<br>'+
'&nbsp;&nbsp;&nbsp;then<br>'+
'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo ${SAVEBASIL}<br>'+
'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$DEBUG ${SAVEBASIL}<br>'+
'&nbsp;&nbsp;&nbsp;fi<br><br>'+
'&nbsp;&nbsp;&nbsp;if [ $? != 0 ]<br>'+
'&nbsp;&nbsp;&nbsp;then<br>'+
'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ERROR=1<br>' +
'&nbsp;&nbsp;&nbsp;fi<br><br>'+
'&nbsp;&nbsp;&nbsp;if [ $PLOTAX -eq 1 -a $ERROR -eq 0 ]<br>'+
'&nbsp;&nbsp;&nbsp;then<br>'+
'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo $SAVE3.$TIME.$PROCID.elle -s 1 -f 1 -n<br>'+
'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$DEBUG $SAVE3.$TIME.$PROCID.elle -s 1 -f 1 -n<br>'+
'&nbsp;&nbsp;&nbsp;fi<br>'+
'fi<br>'+
'fi<br>'+
'fi<br>'+
'done<br>'+
'done<br>'+
'exit $ERROR'



options = "toolbar=0,status=0,menubar=1,scrollbars=1," + 
         "resizable=1,width=700,height=400";

newwindow=window.open("","shwindow", options);
newwindow.document.write(content1)
newwindow.document.write('LIST="')

if (ranor_on == 1)
  newwindow.document.write('7 ');

if (angle_check_on == 1)
  newwindow.document.write('15 ');

if (basil_on == 1)
  newwindow.document.write('1 2 3 ');

if (manuel_on == 1)
  newwindow.document.write('22 ');

if (oof_on == 1)
  newwindow.document.write('9 ');

if (repos_on == 1)
  newwindow.document.write('13 ');

if (tbh_on == 1)
  newwindow.document.write('4 ');

if (split_on == 1)
  newwindow.document.write('5 ');

if (gg_on == 1)
  newwindow.document.write('18 ');

if (gbmdd_on == 1)
  newwindow.document.write('6 ');

if (pblast_on == 1)
  newwindow.document.write('8 ');

if (disloc_rx_on == 1)
  newwindow.document.write('10 ');

if (angle_rx_on == 1)
  newwindow.document.write('11 ');

if (recovery_on == 1)
  newwindow.document.write('12 ');

if (viscosity_on == 1)
  newwindow.document.write('16 ');

if (merge_on == 1)
  newwindow.document.write('17 ');

if (expand_on == 1)
  newwindow.document.write('19 ');

if (gbm_diff_on == 1)
  newwindow.document.write('20 ');

if (latt_diff_on == 1)
  newwindow.document.write('21 ');

if (exchange_on == 1)
  newwindow.document.write('23 ');
  
if (user_on == 1)
  newwindow.document.write('99 ');

if (stats_on == 1)
  newwindow.document.write('14 ');

newwindow.document.write('"<br>')
newwindow.document.write(content2)
newwindow.document.write('</body>')
newwindow.document.close()
winop=!winop;
}

// empty entry checker
 function noEntry(){
  mt=document.isn.start_file.value;
  if ((mt.length<1)){
   alert("I'm sorry. An input elle file is needed "
    +"must be completed before I can submit this for"
    +"m for processing.");
   return false;
  }
  return true;
 }
 
var nr=0;
function numericCheck(who){
  nr1=eval('document.isn.'+who+'.value');
  flg=0;
  str="";
  spc=""
  arw="";
  for (var i=0;i<nr1.length;i++){
   cmp="0123456789.-e"
   tst=nr1.substring(i,i+1)
   if (cmp.indexOf(tst)<0){
    flg++;
    str+=" "+tst;
    spc+=tst;
    arw+="^";
   }
   else{arw+="_";}
  }
  if (flg!=0){
   if (spc.indexOf(" ")>-1) {
    str+=" and a space";
    }
   alert(nr1+"\r"+arw+"\r\rI'm sorry. This entry must "
   +"be a number. I found "+flg+" confusing symbol(s): "+str+".");
   return false;
  }
  return true;
}

function tidy()
{
  if(winop)
  {
     newwindow.close();
     winop=!winop;
  }
  if(winop2)
  {
     newwindow2.close();
     winop2=!winop2;
  }
  basil_on=0;
  manuel_on=0;
  gg_on=0;
  tbh_on=0;
  ranor_on=0;
  pblast_on=0;
  diffusion_on=0;
  oof_on=0;
  repos_on=0;
  plotax_on=0;
  merge_on=0;
  angle_check_on=0;
  stats_on=0;
  split_on=0;
  disloc_rx_on=0;
  angle_rx_on=0;
  viscosity_on=0;
  recovery_on=0;
  gbmdd_on=0;
  expand_on=0;
  gbm_diff_on=0;
  latt_diff_on=0;
  exchange_on=0;
  exchdiff_only=0;
  gv_display_on=0;
}


function pad(number,length) {
    var str = '' + number;
    while (str.length < length)
        str = '0' + str;
    return str;
}
// -->
</script>


<form name="isn">

<table cellspacing=0 cellpadding=5 border=0 bgcolor="#99ccff" >
<tr bgcolor="#336699">
    <td > <b>Elle Shell Script Generator v1.24
</b> </td>
    <td align="right"><input type="Reset" onClick="tidy()"></td>
</tr>
<tr>
    <td ><b>Elle</b></td>
    <td> &nbsp </td>
</tr>
<tr>
    <td align="right"> Experiment Name:</td>
    <td><INPUT TYPE="text" value="blah" name="root_name" size=60 onBlur="noEntry('root_name')"></td>
</tr>
<tr>
    <td align="right"> Elle Input File <b>[00]</b>:</td>
    <td><INPUT TYPE="text" value="input.elle" name="start_file" size=50 onBlur="noEntry('start_file')"></td>
</tr>

<tr>
    <td align="right"> Last Time:</td>
    <td><input type="text" size=10 value = "100" name="last_time" onBlur="numericCheck('last_time')"></td>
</tr>
<tr>
    <td align="right"> Time Step:</td>
    <td><input type="text" size="10" value="1" name="time_step" onBlur="numericCheck('time_step')"></td>
</tr>
<tr>
    <td align="right"> Save Interval:</td>
    <td><input type="text" size="10" value="1" name="save_int" onBlur="numericCheck('save_int')"></td>
</tr>
<tr>
    <td align="right"> 'Always Saved' Process ID:</td>
    <td><input type="text" size="10" value="15" name="save_all" onBlur="numericCheck('save_all')"></td>
</tr>
<tr>
    <td align="right"> Save Statistics</td>
    <td><input type="checkbox" name="stats_check" onClick="stats_on = !stats_on"></td>
</tr>
<tr>
    <td align="right"> Save updated Postscript file</td>
    <td><input type="checkbox" name="gv_check" onClick="gv_display_on = !gv_display_on"></td>
</tr>
<tr bgcolor="#336699">
    <td><input type="checkbox" name="basil_check" onClick="basil_on = !basil_on">&nbsp&nbsp<b>BASIL [03]</b></td>
    <td>&nbsp</td>
</tr>
<tr bgcolor="#336699">
    <td align="right"> BASIL Input File:</td>
    <td><input type="text" size="50" value="intilt3" name="basil_in"></td>
</tr>
<tr bgcolor="#336699">
    <td><input type="checkbox" name="repos_check" onClick="repos_on = !repos_on">&nbsp&nbsp<b>Reposition Simple Shear Experiment [13]</b></td>
    <td>&nbsp</td>
</tr>
<tr bgcolor="#336699">
    <td><input type="checkbox" name="angle_check_check" onClick="angle_check_on = !angle_check_on">&nbsp&nbsp<b>Widen narrow vertices [15]</b></td>
    <td>&nbsp</td>
</tr>
<tr bgcolor="#336699">
    <td><input type="checkbox" size="10" name="oof_check" onClick="oof_on = !oof_on">&nbsp&nbsp<b>OOF Thermo-Elasticity [09]</b></td>
    <td>&nbsp;</td>
</tr>
<tr bgcolor="#336699">
    <td><input type="checkbox" size="10" name="manuel_check" onClick="manuel_on = !manuel_on">&nbsp&nbsp<b>Homogeneous Simple Shear [22]</b></td>
    <td>&nbsp;</td>
</tr>
<tr bgcolor="#336699">
    <td align="right">Shear Strain Rate (gamma/s):</td>
    <td><input type="text" size=10 value = "0.00" name="manuelspeed" onBlur="numericCheck('manuelspeed')"></td>
</tr>
<tr >
    <td><input type="checkbox" name="tbh_check" onClick="tbh_on = !tbh_on">&nbsp&nbsp<b>Taylor-Bishop-Hill [04]</b></td>
    <td>&nbsp</td>
</tr>
<tr>
    <td align="right"> Quartz CRSS File:</td>
    <td><input type="text" size="50" value="quartz.crss" name="qcrss_in"></td>
</tr>
<tr>
    <td align="right"> Randomise initial orientations [01]</td>
    <td><input type="checkbox" name="ranor_check" onClick="ranor_on = !ranor_on"></td>
</tr>
<tr>
    <td align="right"> Save Orientation Plots</td>
    <td><input type="checkbox" name="plotax_check" onClick="plotax_on = !plotax_on"></td>
</tr>
<tr bgcolor="#336699">
    <td><input type="checkbox" name="gbmdd_check" onClick="gbmdd_on = !gbmdd_on">&nbsp&nbsp<b>GBM [06]</b></td>
    <td>&nbsp</td>
</tr>
<tr bgcolor="#336699">
    <td align="right"> GBM Stages:</td>
    <td><input type="text" size="10" value="000" name="stagesgbm" onBlur="numericCheck('stagesgbm')"></td>
</tr>
<tr bgcolor="#336699">
    <td ><input type="checkbox" name="gg_check" onClick="gg_on = !gg_on">&nbsp&nbsp<b>Grain Growth [18]</b></td>
    <td>&nbsp</td>
</tr>
<tr bgcolor="#336699">
    <td align="right"> Grain Growth Stages:</td>
    <td><input type="text" size="10" value="000" name="stages" onBlur="numericCheck('stages')"></td>
</tr>
<tr bgcolor="#336699">
    <td><input type="checkbox" name="pblast_check" onClick="pblast_on = !pblast_on">&nbsp&nbsp<b>Pblast [08]</b></td>
    <td>&nbsp</td>
</tr>
<tr bgcolor="#336699">
    <td><input type="checkbox" name="expand_check" onClick="expand_on = !expand_on">&nbsp&nbsp<b>Expand [19]</b></td>
    <td>&nbsp</td>
</tr>
<tr bgcolor="#336699">
    <td align="right">Expand Max Area:</td>
    <td><input type="text" size="10" value="0" name="expandarea" onBlur="numericCheck('expandarea')"></td>
</tr>
<tr bgcolor="#336699">
    <td align="right">Expand Speed:</td>
    <td><input type="text" size="10" value="10" name="expandspeed" onBlur="numericCheck('expandspeed')"></td>
</tr>
<tr bgcolor="#336699">
    <td align="right"> Porphyroblast/Expand Growth Stages:</td>
    <td><input type="text" size="10" value="000" name="stagespb" onBlur="numericCheck('stagespb')"></td>
</tr>
<tr bgcolor="#99ccff">
    <td><input type="checkbox" size="10" name="gbm_diff_check" onClick="gbm_diff_on = !gbm_diff_on">&nbsp&nbsp<b>Grain Boundary Diffusion [20]</b></td>
    <td>&nbsp;</td>
</tr>
<tr bgcolor="#99ccff">
    <td align="right">Stages:</td>
    <td><input type="text" size=10 value = "000" name="stagesgbdiff" onBlur="numericCheck('stagesgbdiff')"></td>
</tr>
<tr bgcolor="#99ccff">
    <td align="right">Kappa:</td>
    <td><input type="text" size=10 value = "0.0001" name="gbdiffkappa" onBlur="numericCheck('gbdiffkappa')"></td>
</tr>
<tr bgcolor="#99ccff">
    <td><input type="checkbox" size="10" name="latt_diff_check" onClick="latt_diff_on = !latt_diff_on">&nbsp&nbsp<b>Lattice Boundary Diffusion [21]</b></td>
    <td>&nbsp;</td>
</tr>
<tr bgcolor="#99ccff">
    <td align="right">Stages:</td>
    <td><input type="text" size=10 value = "000" name="stageslattdiff" onBlur="numericCheck('stageslattdiff')"></td>
    </tr>
<tr bgcolor="#99ccff">
    <td><input type="checkbox" size="10" name="exch_check" onClick="exchange_on = !exchange_on">&nbsp&nbsp<b>Exchange Reaction [23]</b></td>
    <td>&nbsp;</td>
</tr>
<tr bgcolor="#99ccff">
    <td align="right">Stages:</td>
    <td><input type="text" size=10 value = "000" name="stagesexch" onBlur="numericCheck('stagesexch')"></td>
</tr>
<tr bgcolor="#99ccff">
    <td align="right">Kappa:</td>
    <td><input type="text" size=10 value = "0.0001" name="exchkappa" onBlur="numericCheck('exchkappa')"></td>
    </tr>
<tr bgcolor="#99ccff">
    <td align="right">Temperature increment:</td>
    <td><input type="text" size=10 value = "0.0" name="exchtemp" onBlur="numericCheck('exchtemp')"></td>
</tr>
<tr bgcolor="#99ccff">
    <td align="right"> Diffusion only</td>
    <td><input type="checkbox" name="exchdiffonly_check" onClick="exchdiff_only = !exchdiff_only"></td>
</tr>
<tr bgcolor="#336699">
    <td><input type="checkbox" size="10" name="split_check" onClick="split_on = !split_on">&nbsp&nbsp<b>Sub-grain formation [05]</b></td>
    <td>&nbsp;</td>
</tr>
<tr bgcolor="#336699">
    <td><input type="checkbox" size="10" name="angle_rx_check" onClick="angle_rx_on = !angle_rx_on">&nbsp&nbsp<b>Rotation Recrystallisation on Angle [11]</b></td>
    <td>&nbsp;</td>
</tr>
<tr bgcolor="#336699">
    <td><input type="checkbox" size="10" name="disloc_rx_check" onClick="disloc_rx_on = !disloc_rx_on">&nbsp&nbsp<b>Rotation Recrystallisation on Dislocation Density [10]</b></td>
    <td>&nbsp;</td>
</tr>
<tr  bgcolor="#336699">
    <td><input type="checkbox" name="recovery_check" onClick="recovery_on = !recovery_on">&nbsp&nbsp<b>Recovery [12]</b></td>
    <td>&nbsp</td>
</tr>
<tr  bgcolor="#336699">
    <td><input type="checkbox" name="viscosity_check" onClick="viscosity_on = !viscosity_on">&nbsp&nbsp<b>Viscosity [16]</b></td>
    <td>&nbsp</td>
</tr>
<tr  bgcolor="#336699">
    <td><input type="checkbox" size="10" name="merge_check" onClick="merge_on = !merge_on">&nbsp&nbsp<b>Merge tiny grains [17]</b></td>
    <td>&nbsp;</td>
</tr>
<tr bgcolor="#99ccff">
    <td><input type="checkbox" name="user_check" onClick="user_on = !user_on">&nbsp&nbsp<b>User Defined Process [99]</b></td>
    <td>&nbsp</td>
</tr>
<tr bgcolor="#99ccff">
    <td align="right">User process name:</td>
    <td><input type="text" size="10" value="myprocess" name="username" onBlur="noEntry('username')"></td>
</tr>
<tr bgcolor="#99ccff">
    <td align="right">User data 1:</td>
    <td><input type="text" size="10" value="" name="userdata1" onBlur="numericCheck('userdata1')"></td>
</tr>
<tr bgcolor="#99ccff">
    <td align="right">User data 2:</td>
    <td><input type="text" size="10" value="" name="userdata2" onBlur="numericCheck('userdata2')"></td>
</tr>
<tr bgcolor="#99ccff">
    <td align="right">User data 3:</td>
    <td><input type="text" size="10" value="" name="userdata3" onBlur="numericCheck('userdata3')"></td>
</tr>
<tr bgcolor="#99ccff">
    <td align="right">User data 4:</td>
    <td><input type="text" size="10" value="" name="userdata4" onBlur="numericCheck('userdata4')"></td>
</tr>
<tr bgcolor="#99ccff">
    <td align="right">User data 5:</td>
    <td><input type="text" size="10" value="" name="userdata5" onBlur="numericCheck('userdata5')"></td>
</tr>
<tr bgcolor="#99ccff">
    <td align="right">User data 6:</td>
    <td><input type="text" size="10" value="" name="userdata6" onBlur="numericCheck('userdata6')"></td>
</tr>
<tr bgcolor="#99ccff">
    <td align="right"> User Process Stages:</td>
    <td><input type="text" size="10" value="0" name="stagesuser" onBlur="numericCheck('stagesuser')"></td>
</tr>
<tr bgcolor="#99ccff">
    <td><input type=button value="Create shelle (Linux)" onClick="MakePage(this.form.root_name.value,this.form.start_file.value,this.form.last_time.value,this.form.time_step.value,this.form.basil_in.value,this.form.save_int.value,this.form.save_all.value,this.form.stages.value,this.form.stagesgbm.value,basil_on,gg_on,tbh_on,ranor_on,pblast_on,oof_on,recovery_on,rotrx_on,viscosity_on,gbmdd_on,repos_on,plotax_on,merge_on,angle_check_on,stats_on,split_on,disloc_rx_on,angle_rx_on,this.form.stagespb.value,expand_on,gbm_diff_on,latt_diff_on,this.form.stagesgbdiff.value,this.form.gbdiffkappa.value,this.form.stageslattdiff.value,this.form.expandarea.value,this.form.expandspeed.value,manuel_on,this.form.manuelspeed.value,user_on,this.form.username.value,this.form.stagesuser.value,this.form.userdata1.value,this.form.userdata2.value,this.form.userdata3.value,this.form.userdata4.value,this.form.userdata5.value,this.form.userdata6.value,gv_display_on,exchange_on,this.form.exchkappa.value,this.form.exchtemp.value,exchdiff_only,this.form.stagesexch.value)"></td>
    <td><input type=button value="Create batch (Windows)" onClick="MakeBatch(this.form.root_name.value,this.form.start_file.value,this.form.last_time.value,this.form.time_step.value,this.form.basil_in.value,this.form.save_int.value,this.form.save_all.value,this.form.stages.value,this.form.stagesgbm.value,basil_on,gg_on,tbh_on,ranor_on,pblast_on,oof_on,recovery_on,rotrx_on,viscosity_on,gbmdd_on,repos_on,plotax_on,merge_on,angle_check_on,stats_on,split_on,disloc_rx_on,angle_rx_on,this.form.stagespb.value,expand_on,gbm_diff_on,latt_diff_on,this.form.stagesgbdiff.value,this.form.gbdiffkappa.value,this.form.stageslattdiff.value,this.form.expandarea.value,this.form.expandspeed.value,manuel_on,this.form.manuelspeed.value,user_on,this.form.username.value,this.form.stagesuser.value,this.form.userdata1.value,this.form.userdata2.value,this.form.userdata3.value,this.form.userdata4.value,this.form.userdata5.value,this.form.userdata6.value,gv_display_on,exchange_on,this.form.exchkappa.value,this.form.exchtemp.value,exchdiff_only,this.form.stagesexch.value)"></td>
    <td align="left"> <font size="-1"> Once you have clicked on the <b><i>Create Shelle</i></b> (Unix/Cygwin) or <b><i>Create Batch</i></b> (Windows), you can save the script file to a local directory by using the <b><i>Save As</i></b> function in your browser (save in text format, not HTML) </font> </td>
</tr>

</table>
<br> Notes <br>
1) File name convention:<br>
Output elle files resulting from using this shelle script will be of the form Experiment_Name.xxx.yy.elle where xxx is the time step and yy is the process code (shown above in square brackets), as follows:<br><br>
00=input file<br>
01=following initial randomisation of crystal axis orientations<br>
03=following a BASIL step<br>
04=following a TBH step<br>
05=following a Sub-grain Split step<br>
06=following a GBM step<br>
08=following a Porphyroblast growth step<br>
09=following an OOF step<br>
10=following a Nucleation/Rotation Recrystallisation step<br>
11=following a Misorientation/Rotation Recrystallisation step<br>
12=following a Recovery calculation step<br>
13=following a Repositioning step<br>
15=following an Angle check  step<br>
16=following a Viscosity calculation step<br>
17=following a Merge calculation step<br>
18=following a Grain Growth step<br>
19=following an Expand step<br>
20=following a Grain Boundary Diffusion step<br>
21=following a Lattice Diffusion step<br>
22=following a Homogeneous Simple Shear step<br>
23=following an Exchange Reaction step<br>
99=following a User Defined Process step<br>
<br>
2) Randomise Orientations:<br>
When checked, this option randomises the lattice orientations of any quartz grains which have not already been defined, one time only, at the start of the experiment.<br>
<br>
3) Save Orientation Plots:<br>
When checked, at the save interval frequency, c-, a- and r- axis pole figures of quartz grains will be saved out as postscript files with the naming convention ellefilename_ax.ps .<br>
<br>
4) Reposition Simple Shear Experiment:<br>
This normalises the elle space to a square after each BASIL deformation step.
<br>
5) The Widen narrow verices (angle check) removes narrow vertices from Flynns to make trianglulation better.<br>
6) The merge calculation removes very small grains.<br>
7) The Statistics calculation simply outputs information to file.<br>
8) If the "Save updated Postscript file" option is turned on, a postscript file of the current Elle microstructure called tmp.ps is created (using showelle.in defaults), if you use ghostview with the "watch file" option enabled, the window will update with the new file each save step.  
9) Number of stages should be 3 digits (i.e. 5 is entered as 005)</form>


</body>
</html>
   
